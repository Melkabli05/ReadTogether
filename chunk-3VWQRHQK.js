import{A as E,a as h,j as w,z as I}from"./chunk-HUPU4MDU.js";import{j as S}from"./chunk-L6GAGA3Z.js";import{Db as c,Na as i,Sb as l,U as u,Ub as o,Ya as x,ha as p,nb as y,ob as f,qc as s,rc as C,sb as b,tb as t,ub as n,uc as v,vb as d}from"./chunk-YG2LBRBX.js";function N(g,r){if(g&1&&d(0,"img",26),g&2){let a,e,m=c();b("ngSrc",m.getOptimizedImageUrl(((a=m.owner())==null?null:a.profilePictureUrl)??"",32,32))("alt",((e=m.owner())==null?null:e.displayName)+" profile picture")}}function T(g,r){if(g&1&&(t(0,"div",27),l(1),n()),g&2){let a=c();b("ngClass",a.clubColors().accent),i(),o(" ",a.ownerInitials().toUpperCase()," ")}}var _=class g{club=v.required();owner=p(void 0);userService=u(S);imageService=u(I);constructor(){C(()=>{this.userService.getUser(this.club().ownerId).then(r=>{this.owner.set(r)})})}ownerInitials=s(()=>(this.owner()?.displayName??this.owner()?.username??"Club Owner").toUpperCase());ownerDisplayName=s(()=>this.owner()?.displayName||this.owner()?.username||"Club Owner");isPrivate=s(()=>!this.club().isPublic);clubTypeColors={Classic:{bg:"bg-gradient-to-br from-purple-100 to-pink-100",accent:"bg-purple-500",text:"text-purple-700",button:"bg-purple-600 hover:bg-purple-700"},"Sci-Fi":{bg:"bg-gradient-to-br from-blue-100 to-cyan-100",accent:"bg-blue-500",text:"text-blue-700",button:"bg-blue-600 hover:bg-blue-700"},Poetry:{bg:"bg-gradient-to-br from-orange-100 to-yellow-100",accent:"bg-orange-500",text:"text-orange-700",button:"bg-orange-600 hover:bg-orange-700"},Fantasy:{bg:"bg-gradient-to-br from-green-100 to-cyan-100",accent:"bg-green-500",text:"text-green-700",button:"bg-green-600 hover:bg-green-700"},Historical:{bg:"bg-gradient-to-br from-yellow-100 to-amber-100",accent:"bg-amber-500",text:"text-amber-700",button:"bg-amber-600 hover:bg-amber-700"},Mystery:{bg:"bg-gradient-to-br from-gray-100 to-gray-300",accent:"bg-gray-500",text:"text-gray-700",button:"bg-gray-600 hover:bg-gray-700"},Philosophy:{bg:"bg-gradient-to-br from-indigo-100 to-indigo-200",accent:"bg-indigo-500",text:"text-indigo-700",button:"bg-indigo-600 hover:bg-indigo-700"}};clubColors=s(()=>{let r=this.club().genre||"Classic";return this.clubTypeColors[r]??this.clubTypeColors.Classic});genre=s(()=>this.club().genre??"Classic");rating=s(()=>this.club().rating??"4.8");currentlyReadingTitle=s(()=>this.club().currentlyReadingTitle??"\u2014");currentlyReadingAuthor=s(()=>this.club().currentlyReadingAuthor??"\u2014");formattedNextMeeting=s(()=>{let r=this.club().nextMeeting;return r?(r instanceof Date?r:new Date(r)).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):"TBA"});getOptimizedImageUrl(r,a,e){return this.imageService.optimizeImageUrl(r,{width:a,height:e})}static \u0275fac=function(a){return new(a||g)};static \u0275cmp=x({type:g,selectors:[["app-club-card"]],inputs:{club:[1,"club"]},decls:49,vars:16,consts:[[1,"shadow-md","hover:shadow-lg","transition","rounded-lg","flex","flex-col","w-full","mx-auto","relative","overflow-hidden",3,"ngClass"],[1,"px-4","pt-4","pb-8","flex","justify-between","items-center",3,"ngClass"],[1,"flex","items-center","gap-2"],["aria-label","Club genre",1,"px-2","py-0.5","rounded-full","text-xs","font-semibold","text-gray-700","bg-white","shadow-md"],[1,"flex","items-center","gap-1","bg-white","rounded-full","p-1","shadow-md","px-2","py-0.5"],[1,"pi","pi-star-fill","text-yellow-400","text-xs"],["aria-label","Club rating",1,"text-gray-700","text-sm","font-semibold"],[1,"p-4","flex","flex-col","gap-3","bg-white"],[1,"flex","items-start","gap-3"],[1,"w-12","h-12","rounded-xl","flex","items-center","justify-center","flex-shrink-0",3,"ngClass"],[1,"pi","pi-book","text-xl","text-white"],[1,"flex-1","min-w-0"],["aria-label","Club name",1,"font-bold","text-lg","text-gray-900","truncate","mb-1"],[1,"flex","items-center","gap-4","text-xs","text-gray-500"],["aria-label","Member count",1,"flex","items-center","gap-1"],[1,"pi","pi-users"],["aria-label","Views",1,"flex","items-center","gap-1"],[1,"pi","pi-eye"],["aria-label","Likes",1,"flex","items-center","gap-1"],[1,"pi","pi-heart"],[1,"text-sm","text-gray-600","line-clamp-3"],[1,"from-gray-50","to-blue-50","bg-gradient-to-br","rounded-lg","p-3"],[1,"text-xs","text-gray-500","mb-1"],["aria-label","Currently reading title",1,"font-semibold","text-gray-800","mb-1"],["aria-label","Currently reading author",1,"text-xs","text-gray-500"],[1,"flex","items-center","justify-between"],["width","32","height","32","priority","low",1,"w-8","h-8","rounded-full",3,"ngSrc","alt"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-xs","font-bold","text-white",3,"ngClass"],[1,"text-xs","font-semibold","text-gray-800"],[1,"text-xs","text-gray-600"],["aria-label","Next meeting",1,"bg-green-50","text-green-700","text-xs","font-medium","px-3","py-2","rounded-lg","flex","items-center","gap-2"],[1,"pi","pi-calendar"],["label","Join Club","icon","pi pi-users","iconPos","left","severity","vibrant","gradient","horizontal","size","sm",3,"fullWidth"]],template:function(a,e){if(a&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),l(4),n()(),t(5,"div",4),d(6,"i",5),t(7,"span",6),l(8),n()()(),t(9,"div",7)(10,"div",8)(11,"div",9),d(12,"i",10),n(),t(13,"div",11)(14,"h3",12),l(15),n(),t(16,"div",13)(17,"span",14),d(18,"i",15),l(19),n(),t(20,"span",16),d(21,"i",17),l(22),n(),t(23,"span",18),d(24,"i",19),l(25),n()()()(),t(26,"div",20),l(27),n(),t(28,"div",21)(29,"div",22),l(30,"Currently Reading"),n(),t(31,"div",23),l(32),n(),t(33,"div",24),l(34),n()(),t(35,"div",25)(36,"div",2),y(37,N,1,2,"img",26)(38,T,2,2,"div",27),t(39,"div")(40,"div",28),l(41),n(),t(42,"div",29),l(43,"Club Admin"),n()()()(),t(44,"div",30),d(45,"i",31),t(46,"span"),l(47),n()(),d(48,"app-button",32),n()()),a&2){let m;b("ngClass",e.clubColors().bg),i(),b("ngClass",e.clubColors().bg),i(3),o(" ",e.genre()," "),i(4),o(" ",e.rating()," "),i(3),b("ngClass",e.clubColors().accent),i(4),o(" ",e.club().name," "),i(4),o(" ",e.club().memberCount," "),i(3),o(" ",e.club().views," "),i(3),o(" ",e.club().likes," "),i(2),o(" ",e.club().description," "),i(5),o(" ",e.currentlyReadingTitle()," "),i(2),o(" by ",e.currentlyReadingAuthor()," "),i(3),f((m=e.owner())!=null&&m.profilePictureUrl?37:38),i(4),o(" ",e.ownerDisplayName()," "),i(6),o(" Next: ",e.formattedNextMeeting()," "),i(),b("fullWidth",!0)}},dependencies:[h,w,E],encapsulation:2,changeDetection:0})};export{_ as a};
