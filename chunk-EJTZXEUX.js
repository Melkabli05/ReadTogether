import{a as H}from"./chunk-YL3GXPDX.js";import"./chunk-5LO2YYKQ.js";import"./chunk-MSQCWEOS.js";import{a as J}from"./chunk-VZ4RYF62.js";import{a as K}from"./chunk-PUFZTHMT.js";import{b as G}from"./chunk-5M6Z5N4F.js";import{A as y,g as A,j as V,o as B}from"./chunk-AO7OYGTB.js";import"./chunk-VPHT4GIH.js";import"./chunk-AOVFH7ZY.js";import"./chunk-X5YLR3NI.js";import{Db as f,Ja as W,K as N,Lb as b,Mb as z,Na as o,Nb as v,Sb as p,Tb as R,U,Ub as m,Vb as q,Ya as x,bb as L,f as D,ha as g,ic as F,jc as Q,lc as h,mb as j,nb as d,ob as c,qb as O,qc as E,rb as $,sb as s,tb as a,ub as r,uc as C,vb as l,vc as w}from"./chunk-4INGPXGM.js";import"./chunk-ODN5LVDJ.js";var T=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-welcome-card"]],decls:8,vars:4,consts:[["aria-label","Welcome Card",1,"rounded-xl","w-full","px-3","sm:px-3","py-4","flex","flex-col","gap-2","bg-gradient-to-r","from-blue-600","to-teal-500","text-white","shadow-lg"],[1,"text-xl","sm:text-2xl","font-bold"],[1,"text-sm","sm:text-base","font-medium","text-white"],[1,"flex","flex-col","sm:flex-row","gap-3","mt-1"],[3,"label","icon","severity"],["label","Upload New Text","severity","white",3,"icon"]],template:function(e,i){e&1&&(a(0,"section",0)(1,"h2",1),p(2,"Good Morning, Alex!"),r(),a(3,"p",2),p(4,"Ready for your next reading session? Dive back in or discover something new"),r(),a(5,"div",3),l(6,"app-button",4)(7,"app-button",5),r()()),e&2&&(o(6),s("label","Open a New Room")("icon","pi-plus")("severity","white"),o(),s("icon","pi-upload"))},dependencies:[y],encapsulation:2})};function Z(t,n){if(t&1&&l(0,"img",4),t&2){let e,i,u=f();s("ngSrc",((e=u.user())==null?null:e.profilePictureUrl)??"")("alt",((i=u.user())==null?null:i.displayName)+" profile picture")}}function ee(t,n){if(t&1&&(a(0,"div",5),p(1),r()),t&2){let e,i=f();o(),m(" ",((e=i.user())==null||e.displayName==null?null:e.displayName.charAt(0))??"U"," ")}}function te(t,n){t&1&&l(0,"span",6)}function ie(t,n){if(t&1&&(a(0,"span",12),p(1),r()),t&2){let e=f();o(),q(" ",e.languages()[0].code.toUpperCase()," (",e.languages()[0].proficiency,") ")}}function oe(t,n){t&1&&(a(0,"span",15),l(1,"i",22),r())}function ne(t,n){if(t&1&&(a(0,"span",23),p(1),r()),t&2){let e=n.$implicit;o(),m(" ",e," ")}}function re(t,n){if(t&1&&(a(0,"div",17),O(1,ne,2,1,"span",23,j().trackInterest,!0),r()),t&2){let e=f();o(),$(e.readingInterests())}}function ae(t,n){if(t&1&&(a(0,"span",19),l(1,"i",24),a(2,"span"),p(3),r()()),t&2){let e=f();o(3),m("",e.stats().stagesHosted," hosted")}}var P=class t{user=C(null);isLoading=C(!0);languages=E(()=>this.user()?.languages??[]);readingInterests=E(()=>this.user()?.readingInterests??[]);stats=E(()=>this.user()?.stats??{partnersReadWith:0,kudosReceived:0,stagesHosted:0});trackLang=(n,e)=>e.code;trackInterest=(n,e)=>e;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-profile-card"]],inputs:{user:[1,"user"],isLoading:[1,"isLoading"]},decls:30,vars:15,consts:[[1,"flex","justify-center","items-center","p-4"],[1,"bg-white","border","border-gray-100","shadow-md","hover:shadow-lg","transition-all","duration-200","rounded-2xl","flex","w-full","max-w-xl","mx-auto","gap-4","sm:gap-6","p-4","sm:p-6"],[1,"flex","flex-col","items-center","flex-shrink-0"],[1,"relative","w-20","h-20","sm:w-24","sm:h-24"],["width","96","height","96","priority","low",1,"w-20","h-20","sm:w-24","sm:h-24","rounded-full","object-cover","border-4","border-white","shadow-sm",3,"ngSrc","alt"],[1,"w-20","h-20","sm:w-24","sm:h-24","rounded-full","bg-blue-200","flex","items-center","justify-center","text-2xl","sm:text-4xl","font-bold","text-blue-500","border-4","border-white","shadow-sm"],["title","Online","aria-label","User is online",1,"absolute","bottom-1","right-1","w-3","h-3","sm:w-4","sm:h-4","bg-green-500","border-2","border-white","rounded-full"],[1,"flex","flex-col","gap-2","mt-4","w-full"],["label","View Profile","icon","pi pi-user","iconPos","left","severity","primary",3,"outlined","size","fullWidth"],["label","Follow","icon","pi pi-plus","iconPos","right","severity","primary",3,"size","fullWidth"],[1,"flex-1","flex","flex-col","justify-between","min-w-0"],[1,"mb-2"],[1,"inline-block","bg-purple-100","text-purple-700","text-xs","font-semibold","px-2","py-1","rounded-lg"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-lg","sm:text-xl","font-bold","text-gray-900","truncate"],["title","Verified user","aria-label","Verified user",1,"inline-flex","items-center","justify-center","w-4","h-4","sm:w-5","sm:h-5","rounded-full","bg-green-100","border","border-green-300","flex-shrink-0"],[1,"text-sm","text-gray-700","line-clamp-2","mb-3","min-h-[2rem]"],[1,"flex","flex-wrap","gap-1","mb-3"],[1,"flex","items-center","gap-3","sm:gap-4","text-xs","text-gray-600","mt-auto"],[1,"flex","items-center","gap-1"],[1,"pi","pi-users"],[1,"pi","pi-star"],[1,"pi","pi-check","text-green-500","text-xs"],[1,"bg-gray-100","text-gray-700","text-xs","font-medium","px-2","py-1","rounded-full","truncate","max-w-[80px]","sm:max-w-[90px]"],[1,"pi","pi-microphone"]],template:function(e,i){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,Z,1,2,"img",4)(5,ee,2,1,"div",5),d(6,te,1,0,"span",6),r(),a(7,"div",7),l(8,"app-button",8)(9,"app-button",9),r()(),a(10,"div",10)(11,"div",11),d(12,ie,2,2,"span",12),r(),a(13,"div",13)(14,"h2",14),p(15),r(),d(16,oe,2,0,"span",15),r(),a(17,"div",16),p(18),r(),d(19,re,3,0,"div",17),a(20,"div",18)(21,"span",19),l(22,"i",20),a(23,"span"),p(24),r()(),a(25,"span",19),l(26,"i",21),a(27,"span"),p(28),r()(),d(29,ae,4,1,"span",19),r()()()()),e&2){let u,S,_;o(4),c((u=i.user())!=null&&u.profilePictureUrl?4:5),o(2),c(i.user()&&i.user().isOnline?6:-1),o(2),s("outlined",!0)("size","xs")("fullWidth",!0),o(),s("size","xs")("fullWidth",!0),o(3),c(i.languages().length>0?12:-1),o(3),m(" ",((S=i.user())==null?null:S.displayName)??"Unknown User"," "),o(),c(i.user()&&i.user().badge?16:-1),o(2),m(" ",((_=i.user())==null?null:_.bio)??"No bio provided."," "),o(),c(i.readingInterests().length>0?19:-1),o(5),m("",i.stats().partnersReadWith," partners"),o(4),m("",i.stats().kudosReceived," kudos"),o(),c(i.stats().stagesHosted>0?29:-1)}},dependencies:[V,G,y],encapsulation:2,changeDetection:0})};function le(t,n){if(t&1&&l(0,"img",2),t&2){let e=f();s("src",e.text().coverImageUrl,W)("alt",e.text().title)}}function se(t,n){t&1&&l(0,"i",3)}function pe(t,n){t&1&&(a(0,"span",14),l(1,"i",16),p(2," Public Domain "),r())}var I=class t{text=C.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-text-card"]],inputs:{text:[1,"text"]},decls:22,vars:10,consts:[[1,"bg-white","border","border-gray-100","shadow-md","hover:shadow-lg","transition","rounded-2xl","flex","flex-col","w-full","mx-auto","p-4","gap-3"],[1,"w-full","h-32","rounded-xl","overflow-hidden","mb-2","bg-gray-100","flex","items-center","justify-center"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"pi","pi-book","text-4xl","text-gray-300"],[1,"font-bold","text-lg","text-gray-900","truncate","mb-1"],[1,"text-xs","text-gray-500","mb-2"],[1,"flex","items-center","gap-2","mb-2"],[1,"bg-green-50","text-green-700","text-xs","font-medium","px-2","py-0.5","rounded"],[1,"pi","pi-tag","mr-1"],[1,"bg-blue-50","text-blue-700","text-xs","font-medium","px-2","py-0.5","rounded"],[1,"pi","pi-star","mr-1"],[1,"flex","items-center","gap-3","text-xs","text-gray-500","mb-2"],[1,"flex","items-center","gap-1"],[1,"pi","pi-file"],[1,"flex","items-center","gap-1","text-green-700"],["label","View Text","icon","pi pi-eye","iconPos","left","severity","primary","size","sm",3,"fullWidth"],[1,"pi","pi-check-circle"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1),d(2,le,1,2,"img",2)(3,se,1,0,"i",3),r(),a(4,"div",4),p(5),r(),a(6,"div",5),p(7),r(),a(8,"div",6)(9,"span",7),l(10,"i",8),p(11),r(),a(12,"span",9),l(13,"i",10),p(14),r()(),a(15,"div",11)(16,"span",12),l(17,"i",13),p(18),F(19,"number"),r(),d(20,pe,3,0,"span",14),r(),l(21,"app-button",15),r()),e&2&&(o(2),c(i.text().coverImageUrl?2:3),o(3),R(i.text().title),o(2),R(i.text().author),o(4),m("",i.text().genre," "),o(3),m("",i.text().readingLevel," "),o(4),m(" ",Q(19,8,i.text().wordCount)," words "),o(2),c(i.text().isPublicDomain?20:-1),o(),s("fullWidth",!0))},dependencies:[A,y],encapsulation:2})};var me=["roomCardTemplate"],de=["textCardTemplate"],ce=["profileCardTemplate"],ue=["clubCardTemplate"];function xe(t,n){if(t&1&&l(0,"app-room-card",9),t&2){let e=n.$implicit;s("room",e)}}function fe(t,n){if(t&1&&l(0,"app-text-card",10),t&2){let e=n.$implicit;s("text",e)}}function ge(t,n){if(t&1&&l(0,"app-profile-card",11),t&2){let e=n.$implicit;s("user",e)}}function ye(t,n){if(t&1&&l(0,"app-club-card",12),t&2){let e=n.$implicit;s("club",e)}}var X=class t{liveStages=g([]);upcomingEvents=g([]);popularTexts=g([]);suggestedPartners=g([]);suggestedClubs=g([]);roomCardTemplate=w.required("roomCardTemplate");textCardTemplate=w.required("textCardTemplate");profileCardTemplate=w.required("profileCardTemplate");clubCardTemplate=w.required("clubCardTemplate");liveEmptyState={icon:"pi-video",title:"It's a bit quiet...",message:"No live sessions at the moment. Why not start your own?"};eventsEmptyState={icon:"pi-calendar",title:"No upcoming events",message:"Check back soon for new events."};textsEmptyState={icon:"pi-book",title:"No popular texts found",message:"Check back soon for new texts. Why not upload your own?"};partnersEmptyState={icon:"pi-user-plus",title:"No partners to suggest",message:"Check back soon for new partners."};clubsEmptyState={icon:"pi-users",title:"No clubs to suggest",message:"Check back soon for new clubs. Why not create your own?"};route=U(B);destroy$=new D;ngOnInit(){console.log("[ExplorePage] Initializing component..."),this.route.data.pipe(N(this.destroy$)).subscribe({next:n=>{console.log("[ExplorePage] Received route data:",n);let e=n.exploreData;e&&typeof e=="object"?(console.log("[ExplorePage] Processing explore data:",e),this.liveStages.set(e.liveStages??[]),this.upcomingEvents.set(e.upcomingEvents??[]),this.popularTexts.set(e.popularTexts??[]),this.suggestedPartners.set(e.suggestedPartners??[]),this.suggestedClubs.set(e.suggestedClubs??[])):(console.warn("[ExplorePage] No valid explore data available from resolver, using fallback"),this.setEmptyData())},error:n=>{console.error("[ExplorePage] Error receiving route data:",n),this.setEmptyData()}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setEmptyData(){this.liveStages.set([]),this.upcomingEvents.set([]),this.popularTexts.set([]),this.suggestedPartners.set([]),this.suggestedClubs.set([])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=x({type:t,selectors:[["app-explore-page"]],viewQuery:function(e,i){e&1&&(b(i.roomCardTemplate,me,5),b(i.textCardTemplate,de,5),b(i.profileCardTemplate,ce,5),b(i.clubCardTemplate,ue,5)),e&2&&z(4)},decls:15,vars:26,consts:[["roomCardTemplate",""],["textCardTemplate",""],["profileCardTemplate",""],["clubCardTemplate",""],["title","Live Rooms","icon","pi-bolt","colorClass","text-blue-600","buttonColorClass","bg-blue-50 text-blue-700 hover:bg-blue-100","showMoreLabel","Show More","badge","LIVE",3,"items","emptyState","showSort","showMoreRoute","cardTemplate","animateIcon"],["title","Upcoming Events","icon","pi-calendar","colorClass","text-yellow-600","buttonColorClass","bg-yellow-50 text-yellow-700 hover:bg-yellow-100","showMoreLabel","Show More",3,"items","emptyState","showSort","showMoreRoute","cardTemplate"],["title","Popular Texts","icon","pi-book","colorClass","text-green-600","buttonColorClass","bg-green-50 text-green-700 hover:bg-green-100","showMoreLabel","Show More",3,"items","emptyState","showSort","showMoreRoute","cardTemplate"],["title","Suggested Partners","icon","pi-user-plus","colorClass","text-purple-600","buttonColorClass","bg-purple-50 text-purple-700 hover:bg-purple-100","showMoreLabel","Show More",3,"items","emptyState","showSort","showMoreRoute","cardTemplate"],["title","Suggested Clubs","icon","pi-users","colorClass","text-pink-600","buttonColorClass","bg-pink-50 text-pink-700 hover:bg-pink-100","showMoreLabel","Show More",3,"items","emptyState","showSort","showMoreRoute","cardTemplate"],[3,"room"],[3,"text"],[3,"user"],[3,"club"]],template:function(e,i){if(e&1&&(a(0,"div"),l(1,"app-welcome-card")(2,"app-explore-section",4)(3,"app-explore-section",5)(4,"app-explore-section",6)(5,"app-explore-section",7)(6,"app-explore-section",8),L(7,xe,1,1,"ng-template",null,0,h)(9,fe,1,1,"ng-template",null,1,h)(11,ge,1,1,"ng-template",null,2,h)(13,ye,1,1,"ng-template",null,3,h),r()),e&2){let u=v(8),S=v(10),_=v(12),Y=v(14);o(2),s("items",i.liveStages())("emptyState",i.liveEmptyState)("showSort",!1)("showMoreRoute","/reading-rooms")("cardTemplate",u)("animateIcon",!0),o(),s("items",i.upcomingEvents())("emptyState",i.eventsEmptyState)("showSort",!1)("showMoreRoute","/reading-rooms")("cardTemplate",u),o(),s("items",i.popularTexts())("emptyState",i.textsEmptyState)("showSort",!1)("showMoreRoute","/texts")("cardTemplate",S),o(),s("items",i.suggestedPartners())("emptyState",i.partnersEmptyState)("showSort",!1)("showMoreRoute","/users")("cardTemplate",_),o(),s("items",i.suggestedClubs())("emptyState",i.clubsEmptyState)("showSort",!1)("showMoreRoute","/clubs")("cardTemplate",Y)}},dependencies:[H,T,I,P,J,K],encapsulation:2})};export{X as ExplorePage};
