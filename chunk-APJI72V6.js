import{a as x,b as P}from"./chunk-MSQCWEOS.js";import{a as R}from"./chunk-FTDNVQS4.js";import{g as v,j as f}from"./chunk-VPHT4GIH.js";import{U as e}from"./chunk-4INGPXGM.js";import{i as m}from"./chunk-ODN5LVDJ.js";var z=()=>m(null,null,function*(){console.log("[ExplorePageResolver] Starting data resolution...");try{let o=e(x),g=e(R),E=e(f),b=e(P),S=e(v).supabase;console.log("[ExplorePageResolver] Services injected successfully");let[n,u,i,p]=yield Promise.allSettled([o.getRooms({status:"live",page:1,pageSize:4}),o.getRooms({status:"scheduled",page:1,pageSize:4}),E.getUsers({sortBy:"most-followers",page:1,pageSize:4}),g.getClubs({sortBy:"most-members",page:1,pageSize:4})]);console.log("[ExplorePageResolver] All service calls completed");let s=[];n.status==="fulfilled"?(s=n.value.rooms??[],console.log(`[ExplorePageResolver] Loaded ${s.length} live stages`)):console.error("[ExplorePageResolver] Failed to load live stages:",n.reason);let l=[];u.status==="fulfilled"?(l=u.value.rooms??[],console.log(`[ExplorePageResolver] Loaded ${l.length} upcoming events`)):console.error("[ExplorePageResolver] Failed to load upcoming events:",u.reason);let t=[];i.status==="fulfilled"?(t=i.value,console.log(`[ExplorePageResolver] Loaded ${t.length} suggested partners`)):console.error("[ExplorePageResolver] Failed to load suggested partners:",i.reason);let r=[];p.status==="fulfilled"?(r=p.value.clubs??[],console.log(`[ExplorePageResolver] Loaded ${r.length} suggested clubs`)):console.error("[ExplorePageResolver] Failed to load suggested clubs:",p.reason);let a=[];try{console.log("[ExplorePageResolver] Loading popular texts...");let{data:c,error:d}=yield S.from("text_contents").select("*").order("rating",{ascending:!1}).limit(4);d?console.error("[ExplorePageResolver] Failed to load popular texts:",d):(a=c??[],console.log(`[ExplorePageResolver] Loaded ${a.length} popular texts`))}catch(c){console.error("[ExplorePageResolver] Exception loading popular texts:",c)}let C={liveStages:s,upcomingEvents:l,popularTexts:a,suggestedPartners:t,suggestedClubs:r};return console.log("[ExplorePageResolver] Data resolution completed successfully:",{liveStagesCount:s.length,upcomingEventsCount:l.length,popularTextsCount:a.length,suggestedPartnersCount:t.length,suggestedClubsCount:r.length}),C}catch(o){console.error("[ExplorePageResolver] Critical error during data resolution:",o);let g={liveStages:[],upcomingEvents:[],popularTexts:[],suggestedPartners:[],suggestedClubs:[]};return console.log("[ExplorePageResolver] Returning fallback data structure"),g}});export{z as a};
